# Behind App フォルダ構成ドキュメント

## 📁 プロジェクト全体構造

```
behindapp/                           # プロジェクトルート
├── .devcontainer/                   # DevContainer設定
│   ├── Dockerfile                  # Dockerイメージ定義
│   └── devcontainer.json           # DevContainer設定ファイル
├── .gitignore                      # Git無視設定（プロジェクト全体）
├── README.md                       # プロジェクト説明書
├── Taskfile.yml                    # タスク定義（開発用コマンド集）
├── document/                       # ドキュメントフォルダ
│   ├── 遅刻罰金アプリ機能一覧.md    # 機能仕様書
│   └── TIME_WAITの状況確認         # ネットワーク設定確認
└── app/                           # Flutterアプリケーション
    ├── .gitignore                 # Git無視設定（Flutter固有）
    ├── .metadata                  # Flutterプロジェクトメタデータ
    ├── analysis_options.yaml      # Dart静的解析設定
    ├── pubspec.yaml              # プロジェクト設定・依存関係
    ├── pubspec.lock              # 依存関係ロックファイル
    ├── README.md                 # Flutterプロジェクト説明
    ├── android/                  # Androidプラットフォーム固有ファイル
    ├── ios/                      # iOSプラットフォーム固有ファイル
    └── lib/                      # Dartソースコード（メイン開発場所）
```

## 📱 Flutterアプリ（app/）の詳細構造

### 🗂️ ルートファイル

| ファイル名 | 説明 | 重要度 |
|-----------|------|--------|
| `pubspec.yaml` | プロジェクト設定、依存関係、アセット定義 | ⭐⭐⭐ |
| `pubspec.lock` | 依存関係の正確なバージョン管理 | ⭐⭐⭐ |
| `analysis_options.yaml` | Dart静的解析・Linter設定 | ⭐⭐ |
| `.metadata` | Flutterプロジェクト情報（バージョン、プラットフォーム） | ⭐⭐ |
| `.gitignore` | Flutter固有のGit無視設定 | ⭐⭐ |

### 📂 lib/ フォルダ構造

```
lib/
├── main.dart                      # アプリケーションエントリーポイント
├── app/                          # アプリケーション設定
│   ├── app.dart                 # MaterialApp設定・テーマ適用
│   ├── routes.dart              # ルーティング定義・画面遷移
│   └── theme.dart               # テーマ設定（ライト/ダークモード）
├── features/                    # 機能別モジュール
│   ├── auth/                    # 認証機能
│   │   └── screens/            # 認証関連画面
│   │       └── login_screen.dart # ログイン画面
│   ├── attendance/             # 出勤管理機能
│   │   └── screens/            # 出勤関連画面
│   │       ├── dashboard_screen.dart # ダッシュボード画面
│   │       └── history_screen.dart   # 出勤履歴画面
│   └── penalty/                # 罰金管理機能
│       └── screens/             # 罰金関連画面
│           └── penalty_screen.dart # 罰金管理画面
└── shared/                      # 共通コンポーネント
    ├── widgets/                 # 共通ウィジェット
    │   └── error_screen.dart    # エラー画面
    └── constants/               # 定数定義（未実装）
```

## 📋 各ファイルの詳細説明

### 🚀 main.dart
- **役割**: アプリケーションのエントリーポイント
- **内容**: 
  - Supabase初期化
  - WidgetsFlutterBinding初期化
  - BehindApp起動
- **重要度**: ⭐⭐⭐

### 🎨 app/app.dart
- **役割**: MaterialApp設定・アプリケーション全体の設定
- **内容**:
  - アプリタイトル設定
  - テーマ適用（ライト/ダーク）
  - ルーティング設定
  - デバッグバナー非表示
- **重要度**: ⭐⭐⭐

### 🗺️ app/routes.dart
- **役割**: 画面遷移のルーティング定義
- **内容**:
  - ルート定数定義
  - 画面遷移ロジック
  - エラーハンドリング
- **重要度**: ⭐⭐⭐

### 🎨 app/theme.dart
- **役割**: アプリケーションのテーマ設定
- **内容**:
  - カラーパレット定義
  - ライトテーマ設定
  - ダークテーマ設定
  - コンポーネントスタイル設定
- **重要度**: ⭐⭐

### 🔐 features/auth/screens/login_screen.dart
- **役割**: ユーザーログイン画面
- **内容**:
  - ログインフォーム（実装予定）
  - 認証処理（実装予定）
- **重要度**: ⭐⭐⭐

### 📊 features/attendance/screens/dashboard_screen.dart
- **役割**: メインダッシュボード画面
- **内容**:
  - 今日の出勤状況表示（実装予定）
  - チェックイン/アウト機能（実装予定）
  - 統計情報表示（実装予定）
- **重要度**: ⭐⭐⭐

### 📈 features/attendance/screens/history_screen.dart
- **役割**: 出勤履歴表示画面
- **内容**:
  - 過去の出勤記録一覧（実装予定）
  - フィルタリング機能（実装予定）
  - 詳細表示（実装予定）
- **重要度**: ⭐⭐

### 💰 features/penalty/screens/penalty_screen.dart
- **役割**: 罰金管理画面
- **内容**:
  - 罰金履歴表示（実装予定）
  - ポイント残高表示（実装予定）
  - 罰金ルール設定（実装予定）
- **重要度**: ⭐⭐

### ❌ shared/widgets/error_screen.dart
- **役割**: エラー表示用共通画面
- **内容**:
  - 404エラー表示
  - 一般的なエラーメッセージ表示
- **重要度**: ⭐

## 🔧 プラットフォーム固有フォルダ

### 🤖 android/
- **役割**: Androidアプリビルド用設定
- **内容**: 
  - Gradle設定
  - AndroidManifest.xml
  - ネイティブコード（Kotlin/Java）
- **重要度**: ⭐⭐⭐（Androidアプリ開発時）

### 🍎 ios/
- **役割**: iOSアプリビルド用設定
- **内容**:
  - Xcodeプロジェクト設定
  - Info.plist
  - ネイティブコード（Swift/Objective-C）
- **重要度**: ⭐⭐⭐（iOSアプリ開発時）

## 📝 開発時の注意事項

### ✅ 推奨事項
1. **機能ごとにフォルダ分け**: 関連するファイルを同じフォルダに配置
2. **命名規則**: ファイル名は`snake_case`、クラス名は`PascalCase`
3. **インポート順序**: 外部パッケージ → 内部ファイル → 相対パス
4. **コメント**: 複雑なロジックにはコメントを追加

### ❌ 避けるべきこと
1. **lib直下にファイルを直接配置**: 機能ごとに整理
2. **巨大なファイル**: 1ファイル1000行以下を目安
3. **循環参照**: インポートの循環参照を避ける
4. **ハードコーディング**: 定数は`shared/constants/`に配置

## 🚀 今後の拡張予定

### 📁 追加予定のフォルダ構造
```
lib/
├── features/
│   ├── auth/
│   │   ├── models/          # ユーザーモデル
│   │   ├── services/        # 認証サービス
│   │   ├── providers/       # 状態管理
│   │   └── widgets/         # 認証用ウィジェット
│   ├── attendance/
│   │   ├── models/          # 出勤記録モデル
│   │   ├── services/        # 位置情報サービス
│   │   └── providers/       # 出勤状態管理
│   └── penalty/
│       ├── models/          # 罰金モデル
│       ├── services/       # 罰金計算サービス
│       └── providers/       # 罰金状態管理
└── shared/
    ├── services/            # 共通サービス
    ├── utils/               # ユーティリティ
    └── extensions/           # Dart拡張
```

---

**作成日**: 2024年10月21日  
**バージョン**: 1.0  
**更新者**: AI Assistant  
**ステータス**: 基本構造完成
